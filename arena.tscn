[gd_scene load_steps=51 format=3 uid="uid://kmy186gyphho"]

[ext_resource type="Script" path="res://arena.gd" id="1_ygmlu"]
[ext_resource type="Texture2D" uid="uid://df7t33xg87x08" path="res://enemy_spritesheets/totem_explode_self.png" id="2_4j1xk"]
[ext_resource type="Texture2D" uid="uid://bwl25r67au2x1" path="res://enemy_spritesheets/rat_spawner.png" id="3_qks2b"]
[ext_resource type="Texture2D" uid="uid://b2ovvgwy8bw63" path="res://lightmap.png" id="4_1xsme"]
[ext_resource type="Texture2D" uid="uid://drx7olukm7ouj" path="res://enemy_spritesheets/totem_explode.png" id="5_2wu46"]
[ext_resource type="Texture2D" uid="uid://cm1ln7fxoiegn" path="res://enemy_spritesheets/tree_block.png" id="8_dkhsv"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_8plcy"]
resource_local_to_scene = true
size = Vector2(532.245, 222.352)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_u0me8"]

[sub_resource type="AtlasTexture" id="AtlasTexture_5hiys"]
atlas = ExtResource("2_4j1xk")
region = Rect2(0, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_l32mb"]
atlas = ExtResource("2_4j1xk")
region = Rect2(64, 0, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_bqvui"]
atlas = ExtResource("2_4j1xk")
region = Rect2(0, 64, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_fxgdb"]
atlas = ExtResource("2_4j1xk")
region = Rect2(64, 64, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_nr6h5"]
atlas = ExtResource("2_4j1xk")
region = Rect2(0, 128, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_uffh6"]
atlas = ExtResource("2_4j1xk")
region = Rect2(64, 128, 64, 64)

[sub_resource type="AtlasTexture" id="AtlasTexture_tk4ww"]
atlas = ExtResource("3_qks2b")
region = Rect2(0, 0, 64, 64)

[sub_resource type="SpriteFrames" id="SpriteFrames_i3jep"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_5hiys")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_l32mb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_bqvui")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fxgdb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_nr6h5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_uffh6")
}],
"loop": false,
"name": &"death",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_tk4ww")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="AtlasTexture" id="AtlasTexture_2ffm7"]
atlas = ExtResource("5_2wu46")
region = Rect2(0, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_7b7g6"]
atlas = ExtResource("5_2wu46")
region = Rect2(128, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_fgner"]
atlas = ExtResource("5_2wu46")
region = Rect2(256, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_1c0xn"]
atlas = ExtResource("5_2wu46")
region = Rect2(384, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_vwmvv"]
atlas = ExtResource("5_2wu46")
region = Rect2(0, 128, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_1v0ox"]
atlas = ExtResource("5_2wu46")
region = Rect2(128, 128, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_8lrdy"]
atlas = ExtResource("5_2wu46")
region = Rect2(256, 128, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_ivtvg"]
atlas = ExtResource("5_2wu46")
region = Rect2(384, 128, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_5prj2"]
atlas = ExtResource("5_2wu46")
region = Rect2(0, 256, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_bjvc5"]
atlas = ExtResource("5_2wu46")
region = Rect2(128, 256, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_241a1"]
atlas = ExtResource("5_2wu46")
region = Rect2(256, 256, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_eumgb"]
atlas = ExtResource("5_2wu46")
region = Rect2(384, 256, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_17hai"]
atlas = ExtResource("5_2wu46")
region = Rect2(0, 384, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_3kdxq"]
atlas = ExtResource("5_2wu46")
region = Rect2(128, 384, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_ybdng"]
atlas = ExtResource("5_2wu46")
region = Rect2(256, 384, 128, 128)

[sub_resource type="SpriteFrames" id="SpriteFrames_x7k7f"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_2ffm7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7b7g6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fgner")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1c0xn")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vwmvv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1v0ox")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8lrdy")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ivtvg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2ffm7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7b7g6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fgner")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1c0xn")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vwmvv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1v0ox")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8lrdy")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ivtvg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2ffm7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7b7g6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fgner")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1c0xn")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vwmvv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1v0ox")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8lrdy")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ivtvg")
}, {
"duration": 5.0,
"texture": SubResource("AtlasTexture_5prj2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_bjvc5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_241a1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_eumgb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_17hai")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3kdxq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ybdng")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_bjvc5")
}],
"loop": false,
"name": &"default",
"speed": 15.0
}]

[sub_resource type="Theme" id="Theme_hhokb"]
default_font_size = 20
ProgressBar/colors/font_color = Color(0.94902, 0.533333, 0.94902, 1)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_mbc11"]
bg_color = Color(0.344076, 0.344076, 0.344076, 1)
border_width_left = 3
border_width_top = 3
border_width_right = 3
border_width_bottom = 3
border_color = Color(0, 0, 0, 1)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_bdgwa"]
bg_color = Color(0.761681, 0.528226, 0.906232, 1)
border_width_left = 3
border_width_top = 3
border_width_right = 3
border_width_bottom = 3
border_color = Color(0, 0, 0, 1)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_lmt0i"]
size = Vector2(38.5176, 240.736)

[sub_resource type="AtlasTexture" id="AtlasTexture_u1bfi"]
atlas = ExtResource("8_dkhsv")
region = Rect2(64, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_tp13i"]
atlas = ExtResource("8_dkhsv")
region = Rect2(32, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_fr7uf"]
atlas = ExtResource("8_dkhsv")
region = Rect2(0, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_abcl3"]
atlas = ExtResource("8_dkhsv")
region = Rect2(64, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_6tot6"]
atlas = ExtResource("8_dkhsv")
region = Rect2(32, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_yw13x"]
atlas = ExtResource("8_dkhsv")
region = Rect2(0, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_w80ta"]
atlas = ExtResource("8_dkhsv")
region = Rect2(64, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ipf68"]
atlas = ExtResource("8_dkhsv")
region = Rect2(32, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_pyhri"]
atlas = ExtResource("8_dkhsv")
region = Rect2(0, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_qgmp4"]
atlas = ExtResource("8_dkhsv")
region = Rect2(64, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_mxkct"]
atlas = ExtResource("8_dkhsv")
region = Rect2(32, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_ft8iy"]
atlas = ExtResource("8_dkhsv")
region = Rect2(0, 0, 32, 32)

[sub_resource type="SpriteFrames" id="SpriteFrames_lg7pn"]
animations = [{
"frames": [],
"loop": true,
"name": &"default",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_u1bfi")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tp13i")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fr7uf")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_abcl3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6tot6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_yw13x")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_w80ta")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ipf68")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_pyhri")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qgmp4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mxkct")
}],
"loop": false,
"name": &"despawn",
"speed": 15.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_ft8iy")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_mxkct")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qgmp4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_pyhri")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ipf68")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_w80ta")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_yw13x")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6tot6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_abcl3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fr7uf")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tp13i")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_u1bfi")
}],
"loop": false,
"name": &"spawning",
"speed": 15.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_sd84x"]
size = Vector2(47.2717, 256.493)

[node name="Arena_Spawner_1" type="Area2D" node_paths=PackedStringArray("progress_bar") groups=["arenas"]]
texture_filter = 1
position = Vector2(1, -96)
scale = Vector2(0.571166, 0.571166)
collision_layer = 128
script = ExtResource("1_ygmlu")
progress_bar = NodePath("ProgressBar")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(-1.41859e-05, 55.1503)
shape = SubResource("RectangleShape2D_8plcy")

[node name="Timer" type="Timer" parent="."]
wait_time = 10.0

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
z_index = 1
material = SubResource("ShaderMaterial_u0me8")
position = Vector2(66.5305, 92.7926)
scale = Vector2(2.05931, 2.36023)
sprite_frames = SubResource("SpriteFrames_i3jep")

[node name="PointLight2D" type="PointLight2D" parent="AnimatedSprite2D"]
z_index = 3
position = Vector2(-5.10114, -16.3195)
scale = Vector2(0.867864, 0.717883)
color = Color(0.398434, 0.253525, 0.723913, 1)
energy = 7.79
texture = ExtResource("4_1xsme")

[node name="death" type="AnimatedSprite2D" parent="."]
position = Vector2(66.5305, 92.7926)
scale = Vector2(2.05931, 2.36023)
sprite_frames = SubResource("SpriteFrames_x7k7f")
frame = 31
frame_progress = 1.0

[node name="ProgressBar" type="ProgressBar" parent="."]
offset_left = -1.7508
offset_top = 1.7508
offset_right = 126.249
offset_bottom = 17.7508
theme = SubResource("Theme_hhokb")
theme_override_styles/background = SubResource("StyleBoxFlat_mbc11")
theme_override_styles/fill = SubResource("StyleBoxFlat_bdgwa")
show_percentage = false

[node name="left_area" type="StaticBody2D" parent="."]
z_index = -1
position = Vector2(-313.394, 61.2782)
collision_layer = 32769

[node name="left_wall" type="CollisionShape2D" parent="left_area"]
position = Vector2(7.00317, 12.6932)
shape = SubResource("RectangleShape2D_lmt0i")

[node name="left_anim" type="AnimatedSprite2D" parent="left_area"]
position = Vector2(11.3794, 4.37692)
scale = Vector2(3.55632, 6.8938)
sprite_frames = SubResource("SpriteFrames_lg7pn")
animation = &"spawning"

[node name="right_area" type="StaticBody2D" parent="."]
z_index = -1
position = Vector2(306.391, 50.7733)
collision_layer = 32769

[node name="right_wall" type="CollisionShape2D" parent="right_area"]
position = Vector2(2.6261, 36.3293)
shape = SubResource("RectangleShape2D_sd84x")

[node name="right_anim" type="AnimatedSprite2D" parent="right_area"]
position = Vector2(11.3803, 17.5082)
scale = Vector2(3.55632, 6.8938)
sprite_frames = SubResource("SpriteFrames_lg7pn")
animation = &"despawn"

[connection signal="body_entered" from="." to="." method="_on_body_entered"]
